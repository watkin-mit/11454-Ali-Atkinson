<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title> Migration's Mutual Benefits </title>
   	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
  <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js"> </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.1.1/d3.min.js"></script>
    <style>

		p {
			font-family: 'Lora', sans-serif;
      text-align:justify;
			color:#3C393E;
			font-weight:300;
      /*    	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500" rel="stylesheet">
*/
		}

		svg {
		}

		h1 {
      font-family: 'Lora', sans-serif;
			font-size:60px;
			font-weight:400;
			line-height:1.3;
      color: #B18742;
		}

    h2 {
      font-family: 'Lora', sans-serif;
      font-size:36px;
      font-style: italic;
      font-weight:100;
      color: #B18742;
    }

    h3 {
      font-family: 'Lora', sans-serif;
      font-size:20px;
      font-weight:80;
      color: #B18742;
    }

    a {
        color: #695195;
        font-weight:400;
        text-decoration: underline;
        font-weight: bold;
      }

		#firstvisualdiv{
          position: -webkit-sticky;
          position: sticky;
          top: -1px;
          transition: opacity 0.8s;
         -webkit-transition: opacity 0.8s;

    	}

      #firstvisualdiv2 {
          position: -webkit-sticky;
          position: sticky;
          top: -1px;
          transition: opacity 0.8s;
         -webkit-transition: opacity 0.8s;
          }


    #secondvisualdiv {
          position: -webkit-sticky;
          position: sticky;
          top: -1px;
          transition: opacity 0.8s;
         -webkit-transition: opacity 0.8s;
        }

        #secondvisualdiv2 {
              position: -webkit-sticky;
              position: sticky;
              top: -1px;
              transition: opacity 0.8s;
             -webkit-transition: opacity 0.8s;
            }

   .img{
    max-width: 100%;
    max-height: 100%;
    position: relative;
    opacity: 0;
    transition: opacity 0.8s;
    -webkit-transition: opacity 0.8s;

   }
/*   #sankey1 #sankey2 #sankey3 #sankey4 {
    max-width: 100%;
    max-height: 100%;
    position: fixed;
    opacity: 0;
    transition: opacity 0.8s;
    -webkit-transition: opacity 0.8s;
   }
*/

.startinvisible{
  opacity:0
}

.sankeydiv{
   width:500px; /*container-width*/
   overflow:hidden; /*hide bounds of image */
   margin:0;   /*reset margin of figure tag*/
}

   #sankey1{
     position: fixed;
     z-index:4;
     top: 50vh;
     left: 45%;
         transform: translateY(-50%);
         height:75%;
     transition: opacity 0.8s;
     -webkit-transition: opacity 0.8s;
   }
   #sankey2{
     position: fixed;
     z-index:3;
     top: 50vh;
     left: 45%;
         transform: translateY(-50%);
         height:75%;
     transition: opacity 0.8s;
     -webkit-transition: opacity 0.8s;
    }
   #sankey3{
     position: fixed;
     z-index:2;
     top: 50vh;
     left: 45%;
         transform: translateY(-50%);
         height:75%;
     transition: opacity 0.8s;
     -webkit-transition: opacity 0.8s;
      }
   #sankey4{
     position: fixed;
     z-index:1;
     top: 50vh;
         left: 45%;
         transform: translateY(-50%);
         height:75%;
     transition: opacity 0.8s;
     -webkit-transition: opacity 0.8s;
      }

      #footnotefixed {
        font-size: 10px;
        position: fixed;
        top: 80vh;
        left:48%;
        z-index: 5;
      }

   #sankeyhtml {
     opacity:1;
   }

   #invisibletext #invisibletext2{
     opacity:0;
   }

   .text1opacity {
        font-size:30px;
        fill:blue;
        opacity:0;
        transition: opacity 0.8s;
         -webkit-transition: opacity 0.8s;
        }

         #footnoteb3 {
           font-size: 10px;
           position: fixed;
           top: 20vh;
           left:10%;
           z-index: 5;
          }

          #headerb1 {
            font-size: 20px;
            position: fixed;
            top: 15vh;
            left:50%;
            z-index: 5;
            transition: opacity 0.8s;
             -webkit-transition: opacity 0.8s;
           }

           #headerb2 {
             font-size: 20px;
             position: fixed;
             top: 15vh;
             left:50%;
             z-index: 5;
             transition: opacity 0.8s;
              -webkit-transition: opacity 0.8s;
            }

          #headerb3 {
            font-size: 20px;
            position: fixed;
            top: -10vh;
            left:10%;
            z-index: 5;
            transition: opacity 0.8s;
             -webkit-transition: opacity 0.8s;
           }

	.active {
        	opacity:1;
    	}


    .deactive {
            opacity:0;
            pointer-events:none;
        }


    circle {
      fill: cadetblue;
    }

#bubble1{
  position: fixed;
  z-index:10;
  top: 60vh;
  left: 45%;
  transform: translateY(-50%);
  transition: opacity 0.8s;
  -webkit-transition: opacity 0.8s;
}

#bubblediv{
  position:fixed;
  z-index:8;
  top: 20vh;
  left: 25%;
}

#bubble2{
  position: fixed;
  z-index:8;
  top: 60vh;
  left: 25%;
  transition: opacity 0.8s;
  -webkit-transition: opacity 0.8s;
}

#bubble3{
  position: fixed;
  z-index:1;
  top: 32.5vh;
  left: 40%;
  transform: translateY(-50%);
  transition: opacity 0.8s;
  -webkit-transition: opacity 0.8s;
}

</style>


</head>
<body>
  <main role="main" class="container" >
     <div class="row">
     	<div class="col-12">
     		<br><br>
     		<h1 id="titletext"> Migration's Mutual Benefits</h1>
     	</div>
      <div class="col-12">
        <br><br>
        <h2>How Central American migrants are supporting local economies and their families back home</h2>
        <br><br>
        <h3>Ilham Ali and Will Atkinson </h3>


        <hr>
      </div>
     </div>

     <div class="row">
     	<div class="col-12">

        <p > Increasing migration from the Central American countries of Guatemala, Honduras, and El Salvador
          has been covered widely in the popular press. But beyond sweeping statements made about immigrant groups, the dynamics of migration
            for the individual are not well understood. When conditions are right, migration can bring mutual benefits --
            supporting local economies in the U.S. as well as the migrants' families back home. </p>

      <p id="text1"> Join us as we explore the numbers behind these stories. Scroll or click below to get started:   </p>

         <h3> <a href="#TheJourney"> The Journey:</a> Where migrants settle in the United States </h3>
         <h3> <a href="#LocalJobs"> Local Jobs:</a> Where migrants work in their chosen destinations </h3>
         <h3> <a href="#FamilyNeeds"> Family Needs:</a> How migrants support their faraway homes </h3>


      <br><br>
     	<br><br>
      <br><br>
      <br><br>
    </div>

     	<div class="col-4">

        <h3 id="TheJourney"> The Journey </h3>

        <p id="text2">Immigrants from Guatemala, Honduras, and El Salvador go on to live in varied places across the United States.</p>
        <p> These people most often settle in Los Angeles County, California and Harris County, Texas (home to Houston). </p>
       <p>  Many also live near Washington, D.C. or in southern Florida. Each area has varying cultures, lifestyles, and cost of living. </p>
      <p>  The map details the top three U.S. counties that are now home for Northern Triangle migrants -- while showing just a fraction of the <a href="https://www.migrationpolicy.org/programs/data-hub/charts/us-immigrant-population-state-and-county">3 million U.S. immigrants</a> from these nations. </p>
      <p> Their heritage and skills enrich communities across the U.S. -- including tens to hundreds of thousands of jobs in some areas. </p>

     <br><br>
     <br><br>
     <br><br>
     <br><br>
     	</div>

       	<div class="col-8">
          <div id="secondvisualdiv">
                  <img class="img" src="assets/img/map1104.png">
                  <p id="footnote"> Source: Migration Policy Institute (via the 2015-2019 American Community Survey) </p>

       		</div>
       	</div>


     <div class="col-4">
       <h3 id="LocalJobs"> Local Jobs </h3>

       <p id="text50"> These incoming workers are increasingly essential to U.S. economies.
         H-2A visas for immigrant farm workers have <a href="https://blog.civicdatadesignlab.mit.edu/h2a:-america's-essential-yet-unknown-program"> tripled in less than a decade</a>,
          and more than half of farm businesses would be at least “somewhat likely” to go out of business without them
         (according to <a href="https://usafarmlabor.com/"> USA Farm Labor</a> surveys).
         Immigrants could play an <a href="https://www.cgdev.org/publication/harnessing-northern-triangle-migration-mutual-benefit">even larger role in the future</a>, as U.S. labor projections point to rising demand for entry-level needs like health aides and restaurant work. </p>

     <p id="text51">According to <a href=http://migration.mit.edu/assets/mpi-wfp-mit_migration-motivations-costs_final.pdf> recent survey data</a> from the United Nations World Food Programme (UN WFP),
       more than half of the Northern Triangle migrants surveyed have continued their past type of work.
       These workers bring valuable experience to their destinations, while others find new roles entirely.
       Data shows that unemployment is very low among these populations -- under 1% in most cases -- and a small fraction of the U.S. average as a whole.
       These, and other transitions in work lifestyle, represent big changes for the migrants who experience them. </p>
     <br><br>
     <br><br>
      <br><br>
      <br><br>
      <br><br>
      <p id="text52"> Agriculture is a key example -- as the most common work type before migration but not after. Central American countries receive just a small fraction of H-2A farm worker visas, despite this opportunity.
        As a result, some past farm workers move to informal labor sectors, such as chicken plants and factories -- while others become salaried employees in various sectors like transportation.   </p>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <p id="text53"> In destination countries like the U.S., informal work is the most common result, attracting migrants across their previous work types. </p>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <p id="text54"> And a large number of students find employment upon arrival, making their early entrance into the workforce and starting careers. </p>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <p id="invisibletext"> . </p>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <p id="textsankeyhtml"> Want to dig deeper? Explore for yourself by hovering over the image with your cursor. These paths reflect the past and present journeys of more than 1,300 Northern Triangle migrants --
      as surveyed by the UN World Food Programme in 2020. Nearly all chose the United States as their destination, though precise locations were not reported for privacy reasons. </p>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
      <br><br>
     </div>

     <div class="col-8">

       <div class="sankeydiv">
         <br><br>
         <img class="startinvisible" id="sankey1" src="assets/img/PROJ_sankey.png" style="z-index: 4"/>
         <img class="startinvisible" id="sankey2" src="assets/img/PROJ_sankey_Agriculture.png" style="z-index: 3"/>
         <img class="startinvisible" id="sankey3" src="assets/img/PROJ_sankey_Informal_work.png" style="z-index: 2"/>
         <img class="startinvisible" id="sankey4" src="assets/img/PROJ_sankey_Student.png" style="z-index: 1"/>
         <p class="startinvisible" id="footnotefixed"> Source: UN WFP Survey (2020). Responses of "Does not apply", "Other", or "NS / NR" (blank) are not shown. </p>
       </div>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <div class="startinvisible" id="sankeyhtml">
         <iframe id="igraph" scrolling="no" style="border:none;" seamless="seamless" src="https://plotly.com/~watkin/6.embed" height="525" width="100%"></iframe>
               <p id="footnote"> Source: UN WFP Survey (2020). Responses of "Does not apply", "Other", or "NS / NR" (blank) are not included in the diagram. </p>
       </div>
     </div>
   </div>

   <div class="row">

     <div class="col-4">

       <h3 id="FamilyNeeds"> Family Needs </h3>

       <p id="textb1"> Having found work in their new community, migrants often send money to their families back home in the form of remittances. </p>
       <br><br>
       <p> But how does this look in practice? Let's consider a worker's income, represented by this series of bubbles.</p>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>
       <br><br>

       <p id="textb2"> <a href=https://news.un.org/en/story/2019/06/1040581> According to the UN,</a>
         just 15% of migrants' earnings are sent to families on average --
         meaning that the vast majority can benefit local economies in the U.S. </p>
         <br><br>
         <p>
          Nonetheless, remittances are a critical income source for many relatives back home --
                  supporting one in nine families globally and about one in four in the UN WFP survey
                  of Northern Triangle households.     </p>

        <br><br>
        <br><br>
        <br><br>
        <br><br>
        <br><br>
        <br><br>


         <p id="textb3"> The vast majority of these households use remittances for basic needs like food, health, and utility services. </p>
         <br><br>
         <p> Of the survey's 1300+ households that received remittances, nearly 90% noted food among their uses. </p>
         <br><br>
         <p> Hover over the visual to learn more... </p>
     </div>

     <div class="col-8">

        <div>
          <p id="headerb1" class="startinvisible"> Of a worker's income... </p>
          <svg class="startinvisible" id="bubble1" width="400" height="400">
          </svg>

          <p id="headerb2" class="startinvisible"> Most stays local, while some is sent back to families... </p>
            <svg id="bubblediv" width="700" height="400">
                <g class="startinvisible" id="bubble2" transform="translate(50, 200)"></g>
            </svg>
       </div>


         <div id="remittancebubbles">
               <div class="startinvisible" id="bubble3">
                 <p id="headerb3">...Where most households use the money for basic needs. </p>
                  <svg width="800" height="100">
                    <circle id = "myCircle" cx="50" cy="50" r="10" ></circle>
                    <circle id = "myCircle" cx="150" cy="50" r="20" ></circle>
                    <circle id = "myCircle" cx="250" cy="50" r="30" ></circle>
                    <circle id = "myCircle" cx="350" cy="50" r="50" ></circle>
                    <circle id = "myCircle" cx="450" cy="50" r="30"  ></circle>
                    <circle id = "myCircle" cx="550" cy="50" r="20"  ></circle>
                    <circle id = "myCircle" cx="650" cy="50" r="10"  ></circle>
                  </svg>
                  <p id="footnoteb3"> Source: UN WFP Survey (2020). Responses of "Does not apply", "Other", or "NS / NR" (blank) are not included in the diagram. </p>
                </div>
         </div>
     </div>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <p id="invisibletext2"> . </p>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <br><br>
   <br><br>

 </div>


   <div class="row">
     <div class="col-12">
       <h3> Final Thoughts </h3>
       <p id="textf">
       By understanding the journey to a new location, career, and lifestyle, we can start to learn more about the daily experiences of migrants who are adjusting to a wave of changes.
       We hope to begin telling a more nuanced story about the realities and decisions these people face.
       <br><br>
       What could this information lead to? By highlighting the immense challenge of migration and employment, <a href=http://migration.mit.edu/about.html> these findings could support calls</a> for social protection programs
       (to stabilize home country conditions) as well as <a href=https://www.cgdev.org/sites/default/files/harnessing-northern-triangle-migration-for-mutual-benefit.pdf> improved legal pathways</a> for those who do wish to migrate.
       And despite the increasing role of remittances, transaction costs are reducing the direct flow of funds to families in need.
       <br><br>
       You can find more details about the survey data -- and their broader implications -- in the following links.
     </p>
     <br><br>
     </div>
    </div>

   <div class="row">

     <div class="col-3">

       <h3> More Information </h3>

       <p>  <a href=http://migration.mit.edu/> Project Website</a>   </p>
       <p>  <a href=http://migration.mit.edu/assets/mpi-wfp-mit_migration-motivations-costs_final.pdf> Full Report</a>   </p>
       <p>  <a href=https://fb.watch/9sHn4wpz3b/> Launch Presentation </a>   </p>

     </div>

     <div class="col-9">
       <h3> Acknowledgments </h3>
       <p style="font-size:13px"> This website represents our final project for MIT's Fall 2021 course in Big Data, Visualization and Society (11.454).<br>
         We greatly appreciate the guidance of Ashley Louie, Niko McGlashan, Alberto Meouchi, and the full teaching staff led by Professor Sarah Williams.<br>
         We also received helpful feedback from Rosella Bottone and others from our partners at the UN WFP and Migration Policy Institute.  </p>

     </div>
   </div>

   <br><br>
  </div>

  </main><!-- /.container -->

</body>

<script type="text/javascript">
    var controller = new ScrollMagic.Controller();
/*
    new ScrollMagic.Scene({triggerElement: "#titletext"})
        .setClassToggle("#sankey1", "deactive")
        .addTo(controller);

        new ScrollMagic.Scene({triggerElement: "#titletext"})
            .setClassToggle("#sankey2", "deactive")
            .addTo(controller);

            new ScrollMagic.Scene({triggerElement: "#titletext"})
                .setClassToggle("#sankey3", "deactive")
                .addTo(controller);

                new ScrollMagic.Scene({triggerElement: "#titletext"})
                    .setClassToggle("#sankey4", "deactive")
                    .addTo(controller);
*/

    	new ScrollMagic.Scene({triggerElement: "#text1"})
        	.setClassToggle(".text1opacity", "active")
        	.addTo(controller);

          new ScrollMagic.Scene({triggerElement: "#text2"})
              .setClassToggle("#firstvisualdiv", "deactive")
              .addTo(controller);

    	new ScrollMagic.Scene({triggerElement: "#text2"})
        	.setClassToggle("#secondvisualdiv", "active")
        	.addTo(controller);

      new ScrollMagic.Scene({triggerElement: "#text2"})
          .setClassToggle(".img", "active")
          .addTo(controller);
/*
          new ScrollMagic.Scene({triggerElement: "#text2"})
              .setClassToggle("#firstvisualdiv2", "deactive")
              .addTo(controller);
*/
		new ScrollMagic.Scene({triggerElement: "#text50"})
        	.setClassToggle("#secondvisualdiv", "deactive")
        	.addTo(controller);

    /*      new ScrollMagic.Scene({triggerElement: "#text45"})
              .setClassToggle("#secondvisualdiv2", "deactive")
              .addTo(controller);
*/
            new ScrollMagic.Scene({triggerElement: "#text51"})
                .setClassToggle("#h-work", "active")
                .addTo(controller);

                new ScrollMagic.Scene({triggerElement: "#text51"})
                    .setClassToggle("#sankey1", "active")
                    .addTo(controller);

                    new ScrollMagic.Scene({triggerElement: "#text51"})
                        .setClassToggle("#footnotefixed", "active")
                        .addTo(controller);

                new ScrollMagic.Scene({triggerElement: "#text52"})
                    .setClassToggle("#firstvisualdiv2", "deactive")
                    .addTo(controller);

                    new ScrollMagic.Scene({triggerElement: "#text52"})
                        .setClassToggle("#sankey1", "deactive")
                        .addTo(controller);

                new ScrollMagic.Scene({triggerElement: "#text52"})
                    .setClassToggle("#sankey2", "active")
                    .addTo(controller);

            new ScrollMagic.Scene({triggerElement: "#text53"})
                .setClassToggle("#sankey2", "deactive")
                .addTo(controller);

                new ScrollMagic.Scene({triggerElement: "#text53"})
                    .setClassToggle("#sankey3", "active")
                    .addTo(controller);

            new ScrollMagic.Scene({triggerElement: "#text54"})
                .setClassToggle("#sankey3", "deactive")
                .addTo(controller);

                new ScrollMagic.Scene({triggerElement: "#text54"})
                    .setClassToggle("#sankey4", "active")
                    .addTo(controller);

              new ScrollMagic.Scene({triggerElement: "#invisibletext"})
                  .setClassToggle("#sankey4", "deactive")
                  .addTo(controller);

                  new ScrollMagic.Scene({triggerElement: "#invisibletext"})
                      .setClassToggle("#footnotefixed", "deactive")
                      .addTo(controller);

                  new ScrollMagic.Scene({triggerElement: "#textsankeyhtml"})
                      .setClassToggle("#sankeyhtml", "active")
                      .addTo(controller);

        new ScrollMagic.Scene({triggerElement: "#textb1"})
            .setClassToggle("#sankeyhtml", "deactive")
            // .setClassToggle("#sankey4", "active")
            .addTo(controller);

            new ScrollMagic.Scene({triggerElement: "#textb1"})
                .setClassToggle("#headerb1", "active")
                // .setClassToggle("#sankey4", "active")
                .addTo(controller);

            new ScrollMagic.Scene({triggerElement: "#textb1"})
                .setClassToggle("#bubble1", "active")
                // .setClassToggle("#sankey4", "active")
                .addTo(controller);

                new ScrollMagic.Scene({triggerElement: "#textb2"})
                    .setClassToggle("#headerb1", "deactive")
                    // .setClassToggle("#sankey4", "active")
                    .addTo(controller);

                new ScrollMagic.Scene({triggerElement: "#textb2"})
                    .setClassToggle("#bubble1", "deactive")
                    // .setClassToggle("#sankey4", "active")
                    .addTo(controller);

                    new ScrollMagic.Scene({triggerElement: "#textb2"})
                        .setClassToggle("#headerb2", "active")
                        // .setClassToggle("#sankey4", "active")
                        .addTo(controller);

                new ScrollMagic.Scene({triggerElement: "#textb2"})
                    .setClassToggle("#bubble2", "active")
                    // .setClassToggle("#sankey4", "active")
                    .addTo(controller);

                    new ScrollMagic.Scene({triggerElement: "#textb3"})
                        .setClassToggle("#headerb2", "deactive")
                        // .setClassToggle("#sankey4", "active")
                        .addTo(controller);

                    new ScrollMagic.Scene({triggerElement: "#textb3"})
                        .setClassToggle("#bubble2", "deactive")
                        // .setClassToggle("#sankey4", "active")
                        .addTo(controller);

            new ScrollMagic.Scene({triggerElement: "#textb3"})
                .setClassToggle("#bubble3", "active")
                // .setClassToggle("#sankey4", "active")
                .addTo(controller);

                new ScrollMagic.Scene({triggerElement: "#invisibletext2"})
                    .setClassToggle("#bubble3", "deactive")
                    // .setClassToggle("#sankey4", "active")
                    .addTo(controller);


// BUBBLE D3 SCRIPT

var width1 = 400, height1 = 400

var numNodes1 = 50
var nodes1 = d3.range(numNodes1).map(function(d) {
	return {radius: 20}
})

var simulation1 = d3.forceSimulation(nodes1)
	.force('charge', d3.forceManyBody().strength(5))
	.force('center', d3.forceCenter(width1 / 2, height1 / 2))
	.force('collision', d3.forceCollide().radius(function(d) {
		return d.radius
	}))
	.on('tick', ticked1);

function ticked1() {
	var u = d3.select('#bubble1')
		.selectAll('circle')
		.data(nodes1)
		.join('circle')
		.attr('r', function(d) {
			return d.radius
		})
		.attr('cx', function(d) {
			return d.x
		})
		.attr('cy', function(d) {
			return d.y
		})
}


// 85-15 scripts

var width = 700, height = 400;
var colorScale = ['lightgreen', 'cadetblue', '#B19CD9'];
var xCenter = [ 300, 500];

var numNodes = 50;
var nodes = d3.range(numNodes).map(function(d, i) {
	return {
		radius: 20,
		category: [i %2]
	}
});

var simulation = d3.forceSimulation(nodes)
	.force('charge', d3.forceManyBody().strength(5))
	.force('x', d3.forceX().x(function(d) {
		return xCenter[d.category];
	}))
	.force('collision', d3.forceCollide().radius(function(d) {
		return d.radius;
	}))
	.on('tick', ticked);

function ticked() {
	var b2 = d3.select('#bubble2')
		.selectAll('circle')
		.data(nodes)
		.join('circle')
		.attr('r', function(d) {
			return d.radius;
		})
		.style('fill', function(d) {
			return colorScale[d.category];
		})
		.attr('cx', function(d) {
			return d.x;
		})
		.attr('cy', function(d) {
			return d.y;
		});
}




// remittance uses script

//radiusData is an array containing the new radius for the circle elements
  circleData = [[10, "rgb(246, 239, 247)"], [15, "rgb(189,201,225)"],

  [20, "rgb(103,169,207)"], [25, "rgb(28,144,153)"], [30, "rgb(1,108,89)"]];

  //Select the div element
  selectExample = d3.select("#data_example2");

  //We'll select all the circle from within the selected <div> element
  selectExample.selectAll("circle")
    .data(circleData)
    .attr("r", function(d){return d[0]})
    .style("fill", function(d){return d[1]});

/*
var width = 300, height = 300
var nodes = [{}, {}, {}, {}, {}]


function ticked() {
	d3.select('svg')
		.selectAll('circle')
		.data(nodes)
		.join('circle')
		.attr('r', 5)
		.attr('cx', function(d) {
			return d.x
		})
		.attr('cy', function(d) {
			return d.y
		});
}

*/

</script>
</body>
</html>
